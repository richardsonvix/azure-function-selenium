(self.webpackChunklite=self.webpackChunklite||[]).push([[5132],{85282:(e,n,i)=>{"use strict";i.d(n,{Z:()=>d});var t=i(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var l=t.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM6.77 10.46a.62.62 0 1 1-1.23 0V5.54a.62.62 0 0 1 1.23 0v4.92zm3.7 0a.62.62 0 1 1-1.24 0V5.54a.62.62 0 0 1 1.23 0v4.92z",fill:"#292929"});const d=function(e){return t.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),l)}},78319:(e,n,i)=>{"use strict";i.d(n,{Z:()=>d});var t=i(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var l=t.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm2.8 8.51l-3.69 2.46a.62.62 0 0 1-.96-.5V5.53a.62.62 0 0 1 .96-.51l3.7 2.46a.62.62 0 0 1 0 1.02z",fill:"#292929"});const d=function(e){return t.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),l)}},41190:(e,n,i)=>{"use strict";i.d(n,{C:()=>p,F:()=>V});var t=i(319),a=i.n(t),l=i(22412),d=i(62549),o=i(82864),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeaderInfos_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"FragmentSpread",name:{kind:"Name",value:"DraftStatus_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Star_post"}}]}}].concat(a()(d.t.definitions),a()(o.W.definitions))},m=i(93403),s=i(15855),c=i(51277),u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeaderActionsButtons_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SharePostButtons_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}}]}}].concat(a()(m.z.definitions),a()(s.E.definitions),a()(c.v.definitions))},k=i(56785),V={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CreatorHeader_user"}}]}}].concat(a()(l.p.definitions))},p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeaderInfos_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeaderActionsButtons_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}}]}}].concat(a()(r.definitions),a()(u.definitions),a()(k.V.definitions))}},69973:(e,n,i)=>{"use strict";i.d(n,{P:()=>r,Q:()=>m});var t=i(319),a=i.n(t),l=i(84683),d=i(81712),o=i(17828),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCollectionHeader_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowButton_publisher"}}]}}].concat(a()(l.d.definitions),a()(d.f.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCollectionHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"shouldShowPublishedInStatus_post"}}]}}].concat(a()(o.w.definitions))}},22412:(e,n,i)=>{"use strict";i.d(n,{p:()=>c});var t=i(319),a=i.n(t),l=i(68216),d=i(18821),o=i(54341),r=i(93961),m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AuthorNameTooltip_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowLink_publisher"}}]}}].concat(a()(d.H.definitions),a()(o.O.definitions),a()(l.$m.definitions),a()(r.u.definitions))},s=i(27048),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CreatorHeader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AuthorNameTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}}].concat(a()(l.$m.definitions),a()(m.definitions),a()(s.W.definitions))}},93961:(e,n,i)=>{"use strict";i.d(n,{u:()=>d});var t=i(319),a=i.n(t),l=i(81712),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherFollowLink_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowButton_publisher"}}]}}].concat(a()(l.f.definitions))}},9970:(e,n,i)=>{"use strict";i.d(n,{g:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherName_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},22330:(e,n,i)=>{"use strict";i.d(n,{RD:()=>l,Ki:()=>d,lt:()=>o});var t=i(319),a=i.n(t),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]},o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatarImageId"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_user"}}]}}]}}].concat(a()(l.definitions),a()(d.definitions))}},58327:(e,n,i)=>{"use strict";i.d(n,{r:()=>q});var t=i(50008),a=i.n(t),l=i(63038),d=i.n(l),o=i(67294),r=i(27517),m=i(28655),s=i.n(m),c=i(92471),u=i(23450),k=i.n(u),V=i(3150),p=i(6479),v=i.n(p),f=i(59713),g=i.n(f),N=i(77355),S=i(87691),h=i(14646),F=i(97489),y=i(14804),A=function(e){var n=e.children,i=e.scale,t=void 0===i?"L":i,a=e.verticalMargins,l=void 0===a?{normal:"24px",small:"24px"}:a,d=e.horizontalMargins,r=void 0===d?{normal:"-16px",small:"-12px 0"}:d,m=e.smallPadding,s=void 0===m?"12px":m,c=e.borderRadius,u=void 0===c?"4px":c,k=e.shouldShowArrowDown,p=void 0!==k&&k,v=(0,h.I)(),f=(0,V.q)();return o.createElement(o.Fragment,null,o.createElement("div",{className:v((function(e){return g()({background:(0,y.Uy)(.05),borderRadius:u,margin:"".concat(l.small," ").concat(r.small),position:"relative"},F.xl(e),{margin:"".concat(l.normal," ").concat(r.normal)})}))},o.createElement(N.x,{display:"flex",justifyContent:"space-between",maxWidth:"740px",padding:f?{xs:"16px",sm:"16px",md:"16px",lg:"16px 24px",xl:"16px 24px"}:"16px",sm:{padding:s}},o.createElement(S.F,{scale:t,color:"DARKER"},n))),p&&o.createElement(N.x,{marginLeft:{xs:"17px",sm:"17px",md:"17px",lg:"25px",xl:"25px"}},o.createElement("div",{className:v({position:"absolute",clip:"rect(0px 14px 14px -3px)",":after":{content:"''",display:"block",width:"11px",height:"11px",background:(0,y.Uy)(.05),borderBottomRightRadius:"1px",transform:"rotate(45deg) translate(-4px, -4px)"}})})))},E=function(e){var n=e.link,i=e.text,t=e.shouldWrap,a=void 0!==t&&t,l=v()(e,["link","text","shouldWrap"]);return o.createElement(A,l,i," ",o.createElement(N.x,{display:"inline",whiteSpace:a?void 0:"nowrap"},n))},x=i(28451),b=i(43822),_=i(18627),C=i(66411),D=i(90924),w=i(92661);function I(){var e=s()(["\n  fragment LIHighlightMeter_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return I=function(){return e},e}var P=function(e){return{fontWeight:e.newFonts.detail.boldWeight}},T=function(e,n,i){return n<=0?i?o.createElement(o.Fragment,null,"This is your ",o.createElement("strong",{className:e(P)},"last free member-only story")," this month."):o.createElement(o.Fragment,null,"This is your ",o.createElement("b",null,"last")," free member-only story this month."):i?o.createElement(o.Fragment,null,"You have"," ",o.createElement("strong",{className:e(P)},n," free member-only ",k()("story",n)," left")," ","this month."):o.createElement(o.Fragment,null,"You have ",o.createElement("b",null,n)," free member-only ",k()("story",n)," left this month.")},M=function(e){var n=e.meterCount,i=e.meterLimit,t=e.post,a=(0,h.I)(),l=(0,_.Av)(),d=(0,w.H2)(),r=(0,V.q)();o.useEffect((function(){l.event("meter.viewed",{uiType:x.j.LIHighlightCTA,postId:t.id,meterCount:n})}),[]);var m=T(a,i-n,r),s=r?o.createElement(o.Fragment,null,o.createElement("span",{className:a({textDecoration:"underline"})},"Upgrade")," for unlimited access."):o.createElement(D.M,{tag:"span"},o.createElement(b.a,{linkStyle:"OBVIOUS",post:t,inline:!0,redirectUrl:d("ShowPay",{})},"Upgrade for unlimited access."));return o.createElement(C.cW,{source:{dimension:"post_counter",name:"upgrade_membership",postId:t.id}},r?o.createElement(D.M,null,o.createElement(b.a,{post:t,redirectUrl:d("ShowPay",{})},o.createElement(E,{text:m,link:s,shouldWrap:!0,scale:"M",verticalMargins:{normal:"0",small:"0"},horizontalMargins:{normal:"0",small:"0"},smallPadding:"16px",borderRadius:"8px",shouldShowArrowDown:!0}))):o.createElement(E,{text:m,link:s}))},O=((0,c.Ps)(I(),b.H),i(26350)),B=i(43487),R=function(e){var n=e.post,i=e.meteringInfo,t=(0,h.I)(),a=(0,_.Av)(),l=(0,V.q)(),d=i.postIds?i.postIds.length:0,r=null===i.unlocksRemaining?0:i.unlocksRemaining;o.useEffect((function(){a.event("meter.viewed",{uiType:x.j.LOHighlightCTA,postId:n.id,meterCount:d})}),[]);var m=function(e){switch(e){case 0:return"metered_view_3";case 1:return"metered_view_2";case 2:default:return"smart_meter"}}(r),s=(0,B.v9)((function(e){return e.config.productName})),c=l?o.createElement(o.Fragment,null,o.createElement("span",{className:t({textDecoration:"underline"})},"Sign up")," for ",s," and get an extra one."):o.createElement(O.R,{linkStyle:"OBVIOUS",inline:!0,operation:"register",susiEntry:m},"Sign up for ",s," and get an extra one"),u=T(t,r,l);return o.createElement(C.cW,{source:{postId:n.id}},l?o.createElement(O.R,{operation:"register",susiEntry:m},o.createElement(E,{text:u,link:c,shouldWrap:!0,scale:"M",verticalMargins:{normal:"0",small:"0"},horizontalMargins:{normal:"0",small:"0"},smallPadding:"16px",borderRadius:"8px",shouldShowArrowDown:!0})):o.createElement(E,{text:u,link:c,verticalMargins:{normal:"24px",small:"16px"}}))},U=i(25735),H=i(6443),L=i(80872),z=i(54712),W=i(98067),Z=i(87498),j=function(e){var n=e.meteringInfo,i=e.post,t=e.viewer,a=n.maxUnlockCount||3,l=n.postIds.length;return l<=a?(0,L.sy)()&&function(e){return e&&e.createdAt+Z.pU>Date.now()}(t)?((0,L.Of)(),null):o.createElement(M,{meterCount:l,post:i,meterLimit:a}):null},Q=function(e){var n=e.post,i=e.meteringInfo,t=!!(0,U.VB)({name:"enable_dismissible_regwall",placeholder:!1});switch(i.unlocksRemaining){case 0:case 1:return t?null:o.createElement(R,{post:n,meteringInfo:i});case 2:return o.createElement(R,{post:n,meteringInfo:i});default:return null}},q=function(e){var n=e.meteringInfo,i=e.post,t=(0,r.I0)(),l=(0,h.I)(),m=(0,z.xg)(),s=o.useState(!1),c=d()(s,2),u=c[0],k=c[1];o.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":a()(document))&&k(!0),t((0,W.Dl)(!1))}),[]);var V=(0,H.H)(),p=V.loading,v=V.error,f=V.value;if(p||v)return o.createElement(o.Fragment,null);var g=f&&f.mediumMemberAt||void 0,N=i&&i.creator&&i.creator.id||void 0,S=f&&f.id||void 0,F=f?g||N===S:"LOCKED_POST_SOURCE_SYNDICATED"===i.lockedSource,y=!u||!i.isLocked||!n.postIds.includes(i.id)||F,A=u&&!y,E={height:A?"100%":"0px",overflow:A?"inherit":"hidden",transition:"height 2s cubic-bezier(0.23, 1, 0.32, 1) 0s"},x=f?o.createElement(j,{meteringInfo:n,post:i,viewer:f}):o.createElement(Q,{post:i,meteringInfo:n});return o.createElement("div",{className:m?l(E):void 0},!y&&x)}},22504:(e,n,i)=>{"use strict";i.d(n,{C:()=>m});var t=i(319),a=i.n(t),l=i(22330),d=i(87010),o=i(16461),r=i(56785),m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyInserts_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ZenPostByline_user"}}]}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ZenPostByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}}]}}].concat(a()(l.RD.definitions),a()(l.Ki.definitions),a()(d.hO.definitions),a()(d.tW.definitions),a()(o.H.definitions),a()(r.V.definitions))}},70356:(e,n,i)=>{"use strict";i.d(n,{X:()=>u,Z:()=>c});var t=i(319),a=i.n(t),l=i(31289),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"}}]}}].concat(a()(l.G.definitions))},o=i(78620),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"LIHighlightMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat(a()(o.H.definitions))},m=i(20121),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterController_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"LIHighlightMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"LOHighlightMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_post"}}]}}].concat(a()(r.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"LOHighlightMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),a()(m.qt.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"}}]}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_post"}}]}}].concat(a()(d.definitions),a()(s.definitions))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_meteringInfo"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterController_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIds"}},{kind:"Field",name:{kind:"Name",value:"maxUnlockCount"}},{kind:"Field",name:{kind:"Name",value:"unlocksRemaining"}}]}}]))}},26128:(e,n,i)=>{"use strict";i.d(n,{v:()=>I});var t=i(64718),a=i(67294),l=i(73279),d=i(77355),o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaybeTextToSpeechQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"detectedLanguage"}},{kind:"Field",name:{kind:"Name",value:"wordCount"}}]}}]}}]},r=i(63038),m=i.n(r),s=i(68356),c=i.n(s),u=i(10374),k=i(25735),V=i(6443),p=i(96370),v=i(47230),f=i(87691),g=i(18627),N=i(14646),S=i(50742),h=i(85282),F=i(55641),y=i(3150),A=i(26350),E=i(43822),x=i(92661),b=i(78870),_=function(e){var n=e.postId,i=(0,V.H)().value,t="post_audio_button",l=(0,b.Rk)((0,x.qt)("ShowPay",{}),{susiEntry:t,postId:n}),d=(0,y.q)()?a.createElement(F.Zp,null):a.createElement(F.JM,null);return i?a.createElement(E.a,{redirectUrl:l},d):a.createElement(A.R,{operation:"register",susiEntry:t,actionUrl:l},d)},C=c()({loader:function(){return i.e(6391).then(i.bind(i,82249))},modules:["src/components/post/text-to-speech/SpeechifyWidget"],webpack:function(){return[82249]},loading:function(e){var n=e.children;return a.createElement(a.Fragment,null,n)},render:(0,S.n)("SpeechifyWidget")}),D=a.forwardRef((function(e,n){var i=e.postId,t=e.postBodyRef,l=e.isLockedPreviewOnly,o=e.isZenPostPage,r=void 0!==o&&o,s=(0,N.I)(),c=(0,g.Av)(),S=(0,V.H)().value,y=(0,k.VB)({name:"enable_members_only_audio",placeholder:!1}),A=!(null==S||!S.mediumMemberAt),E=(0,u.Ij)().paragraphRefsMappers.paragraphTitlesRefsByStyleMap,x=(0,a.useState)(!0),b=m()(x,2),D=b[0],w=b[1];a.useEffect((function(){return c.event("experiment.eligible",{experimentId:"ec7b685b3f40"}),w(!0)}),[E]);var I=!A&&(l||y);return a.createElement(d.x,{display:"inline-flex",alignItems:r?"flex-start":"center",boxSizing:"border-box"},a.createElement(d.x,{flexGrow:"1"},a.createElement(p.P,{size:"full"},a.createElement(d.x,{ref:n,display:"flex"},I?y?a.createElement(_,{postId:i}):null:D?a.createElement(F.OC,{onClick:function(){if(D){var e=new Audio;e.autoplay=!0,e.src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",w(!1)}}}):a.createElement(C,{postId:i,buttonStyle:F.xd,audioIconStyle:F.Rc,postBodyRef:t},r?a.createElement(F.Zp,{isPlaying:!0}):a.createElement(v.z,{className:s(F.xd)},a.createElement(h.Z,{className:s(F.Rc)}),a.createElement(f.F,{scale:"M",color:"ACCENT"},"0:00")))))))})),w=function(){return a.createElement(d.x,{display:"inline-block",padding:"0 8px",ariaHidden:"true"},a.createElement(l.O,null))},I=function(e){var n,i,l,d,r=e.postId,m=e.postBodyRef,s=e.isLockedPreviewOnly,c=e.isPublished,u=e.isZenPostPage,k=void 0!==u&&u,V=(0,t.a)(o,{variables:{postId:r}}),p=V.data,v=V.error,f=V.loading;if(!r||f||v)return null;var g=null!==(n=null==p||null===(i=p.post)||void 0===i?void 0:i.wordCount)&&void 0!==n?n:0,N=null!==(l=null==p||null===(d=p.post)||void 0===d?void 0:d.detectedLanguage)&&void 0!==l?l:"";return!c||c&&"en"===N&&g>20?a.createElement(a.Fragment,null,!k&&a.createElement(w,null),a.createElement(D,{postId:r,postBodyRef:m,isLockedPreviewOnly:s,isZenPostPage:k})):null}},55641:(e,n,i)=>{"use strict";i.d(n,{JM:()=>A,OC:()=>x,Zp:()=>E,Rc:()=>y,xd:()=>F});var t=i(63038),a=i.n(t),l=i(67294),d=i(3150),o=i(47230),r=i(17417),m=i(38356),s=i(87691),c=i(66411),u=i(14646),k=i(77280);function V(){return(V=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var p=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zM2 12a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm7.25-3c0-.28.22-.5.5-.5h.5c.28 0 .5.22.5.5v6a.5.5 0 0 1-.5.5h-.5a.5.5 0 0 1-.5-.5V9zm4.5-.5a.5.5 0 0 0-.5.5v6c0 .28.22.5.5.5h.5a.5.5 0 0 0 .5-.5V9a.5.5 0 0 0-.5-.5h-.5z",fill:"currentColor"});const v=function(e){return l.createElement("svg",V({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),p)};function f(){return(f=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var g=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0zm9-10a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm3.38 10.42l-4.6 3.06a.5.5 0 0 1-.78-.41V8.93c0-.4.45-.63.78-.41l4.6 3.06c.3.2.3.64 0 .84z",fill:"currentColor"});const N=function(e){return l.createElement("svg",f({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),g)};var S=i(78319),h=i(68894),F=function(e){return{padding:"0",cursor:"pointer",border:"none",display:"flex",alignItems:"center",":hover > p":{color:e.accentColor.text.dark},":hover > svg > path":{fill:e.accentColor.fill.dark}}},y=function(e){return{marginRight:"3px",marginBottom:"-1px",padding:"1px","> path":{fill:e.accentColor.fill.normal}}},A=function(e){var n=e.onClick,i=(0,u.I)();return l.createElement(o.z,{onClick:n,className:i([F,{flexShrink:"0"}])},l.createElement(S.Z,{className:i(y)}),l.createElement(s.F,{scale:"M",color:"ACCENT"},"Listen"))},E=function(e){var n=e.onClick,i=e.isPlaying;return l.createElement(m.u,{icon:i?l.createElement(v,null):l.createElement(N,null),onClick:n,text:i?"Pause":"Listen"})},x=function(e){var n=e.onClick,i=(0,k.PM)(),t=(0,c.P7)(i||"").susiEntry,o=(0,h.O)("post_audio_button"===t),m=a()(o,3),s=m[0],u=m[2],V=(0,d.q)();return l.createElement(r.A,{isVisible:s,message:"You can now listen to stories",dismissText:"Got it",dismiss:u,targetDistance:10},V?l.createElement(E,{onClick:n}):l.createElement(A,{onClick:n}))}},31289:(e,n,i)=>{"use strict";i.d(n,{G:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},28451:(e,n,i)=>{"use strict";var t;i.d(n,{j:()=>t}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(t||(t={}))}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/5132.9db037fc.chunk.js.map