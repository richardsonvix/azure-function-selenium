(self.webpackChunklite=self.webpackChunklite||[]).push([[5531],{4724:(e,t,n)=>{"use strict";n.d(t,{O:()=>k});var r=n(67294),o=n(46510),l=n(73776),i=n(91743),a=n(1444),c=n(75399),s=n(77355),u=n(30020),d=n(66411),m=function(e){var t=e.post,n=e.source;return r.createElement(r.Fragment,null,r.createElement(c.U,{post:t,source:n,useSubtleShareButtons:!0,spacing:"4px"}),r.createElement(s.x,{margin:"0 16px 0 28px",display:"flex",alignItems:"center"},r.createElement(d.cW,{source:{name:n}},r.createElement(a.o,{post:t,susiEntry:"bookmark_header",buttonStyle:"ICON_SUBTLE"}))),r.createElement(u._,{tooltipText:"More",targetDistance:10},r.createElement(i.t,{post:t})))},p=function(e){var t=e.post,n=e.source;return r.createElement(s.x,{paddingTop:"24px",display:{xs:"flex",sm:"flex",md:"none",lg:"none",xl:"none"}},r.createElement(s.x,{marginRight:"16px"},r.createElement(d.cW,{source:{name:n}},r.createElement(a.o,{post:t,susiEntry:"bookmark_header",buttonStyle:"ICON_TEXT"}))),r.createElement(c.U,{post:t,source:n,useSubtleShareButtons:!0,spacing:"12px"}),r.createElement(s.x,{marginLeft:"12px"},r.createElement(u._,{tooltipText:"More",targetDistance:10},r.createElement(i.t,{post:t}))))},v=n(35989),E=n(63459),f=n(18704),g=n(34796),w=n(26128),x=n(25735),h=n(73279),y=n(87691),S=function(){return r.createElement(s.x,{display:"inline-block",padding:"0 8px",ariaHidden:"true"},r.createElement(h.O,null))},b=function(e){var t=e.showStar,n=e.post,o=e.postBodyRef,l=e.isLockedPreviewOnly,i=n.firstPublishedAt,a=n.readingTime,c=(0,x.VB)({name:"enable_speechify_widget",placeholder:!1});return r.createElement(r.Fragment,null,Boolean(i)&&r.createElement(r.Fragment,null,r.createElement(y.F,{scale:"M",playwrightClassName:"pw-published-date"},r.createElement(E.E,{timestamp:i})),r.createElement(S,null)),r.createElement(f.N,{scale:"M",tag:"div",readingTime:a}),t&&r.createElement(r.Fragment,null,r.createElement(S,null),r.createElement(v.U,{post:n})),!i&&r.createElement(r.Fragment,null,r.createElement(S,null),r.createElement(y.F,{color:"DARKER",scale:"M"},r.createElement(g.FV,{post:n}))),c&&r.createElement(r.Fragment,null,r.createElement(w.v,{postId:n.id,postBodyRef:o,isLockedPreviewOnly:l,isPublished:!!i})))},k=function(e){var t=e.post,n=e.creator,i=e.postBodyRef,a=e.isLockedPreviewOnly,c=void 0!==a&&a,s=e.showInResponseToEntityPreview,u=void 0!==s&&s,d=e.showStar,v=void 0!==d&&d,E=e.viewerId,f=e.playwrightClassName;if(!n)return null;var g="post_actions_header";return r.createElement(o.c,{creator:n,viewerId:E,playwrightClassName:f,entityInfos:r.createElement(b,{post:t,showStar:v,postBodyRef:i,isLockedPreviewOnly:c}),desktopActionsButtons:r.createElement(m,{post:t,source:g}),mobileActionsButtons:r.createElement(p,{post:t,source:g}),responseToEntityPreview:u&&r.createElement(l.h,{padding:"24px 0 0",post:t,postPreviewMarginBottom:40})})}},22836:(e,t,n)=>{"use strict";n.d(t,{l:()=>v});var r=n(67294),o=n(68427),l=n(71652),i=n(96370),a=n(77355),c=n(93310),s=n(21755),u=n(87691),d=n(17583),m=n(58992),p=function(e){var t=e.children;return(0,d.s)()===s.j.xl?r.createElement(i.P,{size:"app"},r.createElement(a.x,{borderBottom:"BASE_LIGHTER"},t)):r.createElement(a.x,{borderBottom:"BASE_LIGHTER"},r.createElement(i.P,{size:"app"},t))},v=function(e){var t=e.collection,n=e.post,i=t.name,s=(0,o.R)(t);return(0,m.l)(n)?r.createElement(p,null,r.createElement(a.x,{display:"flex",alignItems:"center",height:"56px"},r.createElement(a.x,{marginRight:"16px"},r.createElement(c.r,{href:s},r.createElement(l.v,{collection:t,size:32,circular:!0}))),r.createElement(a.x,{marginRight:"3px",flexShrink:"0"},r.createElement(u.F,{scale:"M",color:"LIGHTER",tag:"div"},"Published in")),r.createElement(c.r,{href:s},r.createElement(u.F,{scale:"M",color:"DARKER",clamp:1},i)))):null}},9202:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"useShouldShowGiveStaffPickAwardQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"awardByType"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"STAFF_PICK"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}}]}},{kind:"Field",name:{kind:"Name",value:"awardAvailability"}}]}}]}}]}}]}}]}},97980:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MainContent:()=>Qe,useLoader:()=>Xe});var r=n(59713),o=n.n(r),l=n(64718),i=n(67294),a=n(5977),c=n(83447),s=n(94986),u=n(78656),d=n(19535),m=n(8903),p=n(66411),v=n(75221),E=n(2808),f=n(95989),g=n(50458),w=n(8459),x=n(39547),h=n(8851),y=n(90635),S=n(99214),b=n(87723),k=n(6455),_=n(7834),P=n(67927),T=n(49457),I=n(51802),C=n(48835),R=n(54878),B=n(98482),F=n(25735),L=n(6443),O=n(84052),A=n(10877),N=n(66018),V=n(79246),U=n(66149),D=n(77355),z=n(96370),M=n(18634),G=n(68821),H=n(99849),W=n(28655),j=n.n(W),K=n(67154),Y=n.n(K),X=n(63038),Q=n.n(X),$=n(92471),q=n(20113),J=n(31889),Z=n(34135),ee={xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},te=function(e){var t=e.children,n=(0,J.F)(),r=(0,i.useState)(!1),o=Q()(r,2),l=o[0],a=o[1],c=l?2:1,s=function(){window.innerWidth<=n.breakpoints.sm&&a(!0)};return(0,i.useEffect)((function(){return s(),Z.V6.on("resize",s),function(){return Z.V6.off("resize",s)}}),[]),i.createElement(q.X6,{scale:ee,clamp:c},t)},ne=n(82405),re=n(19308),oe=n(6177),le=n(43220),ie=n(75880),ae=n(24330),ce=n(32317),se=n(69116),ue=n(13454),de=n(18733),me=n(47230),pe=n(98096),ve=n(68894),Ee=n(3207),fe=function(e){var t=e.buttonSize,n=e.targetUserId,r=(0,ve.O)(!1),o=Q()(r,3),l=o[0],a=o[1],c=o[2],s=(0,J.F)(),u=(0,de.Uo)().baseTheme,d=(0,Ee.q3)(s,u),m=(0,L.H)().value;return m?i.createElement(pe.f,{theme:d},i.createElement(ue.E,{targetUserId:n,viewerId:m&&m.id},(function(e){var n=e.mutate;return i.createElement(me.z,{buttonStyle:l?"SUBTLE":"ERROR",onClick:n,size:t||"REGULAR",onMouseEnter:a,onMouseLeave:c},l?"Unblock":"Blocked")}))):null},ge=n(93310),we=n(8431),xe=n(87691),he=n(43487),ye=n(68216);function Se(){var e=j()(["\n  fragment PostFooterBylineAurora_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      id\n      ...UserFollowButton_user\n      ...auroraHooks_publisher\n      ...userUrl_user\n      ...UserSubscribeButton_user\n    }\n    collection {\n      name\n      description\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...UserFollowButton_post\n    ...CollectionFollowButton_post\n    ...useShowAuthorNewsletterV3Promo_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Se=function(){return e},e}var be="follow_footer",ke=function(e){var t=e.post,n=e.maxWidthSize,r=void 0===n?"inset":n,o=t.creator,l=t.collection,a=(0,he.v9)((function(e){return e.config.authDomain})),c=(0,he.v9)((function(e){return e.navigation.currentLocation})),s=(0,L.H)().value,u=(0,J.F)(),d=(0,ie.Pd)(o).viewerEdge,m=i.useState(0),p=Q()(m,2),v=p[0],E=p[1],f=v<=u.breakpoints.sm,w=function(){E(window.innerWidth)};i.useEffect((function(){return w(),Z.V6.on("resize",w),function(){return Z.V6.off("resize",w)}}),[]);var x="REGULAR",h=(null==s?void 0:s.id)===(null==o?void 0:o.id)||f?void 0:"168px",y={display:"flex",justifyContent:"space-between",alignItems:"center"},S=(0,le.KW)(t.creator),b=l?(0,g.WGd)(l,c,a):o?(0,g.AWr)(o,a):"",k="More from ".concat(l?l.name:null==o?void 0:o.name),_=l?l.description:null==o?void 0:o.bio,P=null;o&&(P=s&&null!=d&&d.isBlocking?i.createElement(fe,{buttonSize:x,targetUserId:o.id}):i.createElement(D.x,{display:"flex",marginLeft:"8px"},i.createElement(ae.N,{creator:o,followButtonSize:x,post:t,susiEntry:be})));var T=l?i.createElement(ne.F,{buttonSize:x,collection:l,post:t,susiEntry:be}):P;return i.createElement(D.x,{print:{display:"none"}},(null==o?void 0:o.name)&&(null==o?void 0:o.username)&&!S&&i.createElement(D.x,{paddingBottom:"30px"},i.createElement(z.P,{size:r},i.createElement(D.x,Y()({},y,{borderTop:"BASE_LIGHTER",paddingTop:"33px"}),i.createElement(D.x,null,i.createElement(we.Lh,{scale:"S"},"Written by"),i.createElement(te,null,i.createElement(ge.r,{href:(0,g.AWr)(o,a)},o.name||o.username))),P),o.bio&&i.createElement(D.x,{paddingTop:"6px",paddingRight:h},i.createElement(xe.F,{scale:"M"},o.bio)))),(l||S)&&i.createElement(D.x,{paddingTop:"32px",paddingBottom:"4px",backgroundColor:"BASE_LIGHT"},i.createElement(z.P,{size:r},i.createElement(D.x,y,i.createElement(te,null,i.createElement(ge.r,{href:b},k)),T),_&&i.createElement(D.x,{paddingTop:"5px",paddingRight:h,wordBreak:"break-word"},i.createElement(xe.F,{scale:"M"},_)))))};function _e(){var e=j()(["\n  fragment PostFooterCollectionButton_collection on Collection {\n    id\n    name\n    ...collectionUrl_collection\n  }\n  ","\n"]);return _e=function(){return e},e}(0,$.Ps)(Se(),re.I,re.b,ye.nf,ce.S$,ce.sj,le.C5,ye.$m,oe.b,se.w);var Pe=function(e){var t=e.collection,n=(0,he.v9)((function(e){return e.config.authDomain})),r=(0,he.v9)((function(e){return e.navigation.currentLocation}));return i.createElement(i.Fragment,null,(null==t?void 0:t.name)&&i.createElement(D.x,{maxWidth:"100%",textAlign:"center"},i.createElement(me.z,{buttonStyle:"STRONG",href:(0,g.WGd)(t,r,n)},"Read more from ",t.name)))},Te=((0,$.Ps)(_e(),ye.nf),n(68356)),Ie=n.n(Te),Ce=n(50742),Re=Ie()({loading:function(){return null},loader:function(){return Promise.all([n.e(5441),n.e(3193)]).then(n.bind(n,54894))},modules:["./PostNextFiveStories"],webpack:function(){return[54894]},render:(0,Ce.n)("PostNextFiveStories")}),Be=function(e){var t=e.post,n=e.rootMargin,r=e.target,o=i.useState(!1),l=Q()(o,2),a=l[0],c=l[1];return a?i.createElement(Re,{post:t,target:r,rootMargin:n}):(Z.V6.on("load",(function(){return c(!0)})),null)},Fe=function(e){var t=e.post,n=e.target,r=i.useRef(null),o=t.collection;return i.createElement(D.x,{ref:r},i.createElement(D.x,{backgroundColor:"BASE_LIGHT",print:{display:"none"}},i.createElement(ke,{post:t,maxWidthSize:"app"}),i.createElement(D.x,{paddingTop:"25px"},i.createElement(Be,{post:t,target:n||r}),o&&i.createElement(D.x,{paddingBottom:"96px",paddingTop:"40px"},i.createElement(Pe,{collection:o})))))},Le=n(29969),Oe=n(1951),Ae=n(40922),Ne=function(e){var t=e.post,n=t.id,r=t.collection,o=t.creator,l=(0,Ae._)(r),a=(0,Oe.g)(t);return r&&l?i.createElement(D.x,{marginBottom:"40px"},i.createElement(Le.X,{postId:n,publisher:r})):o&&a.value?i.createElement(D.x,{marginBottom:"40px"},i.createElement(Le.X,{postId:n,publisher:o})):null},Ve=n(4724),Ue=n(22836),De=Ie()({loading:function(){return null},loader:function(){return Promise.all([n.e(957),n.e(3158)]).then(n.bind(n,69788))},modules:["./PostGiveStaffPickAward"],webpack:function(){return[69788]},render:(0,Ce.n)("PostGiveStaffPickAward")}),ze=Ie()({loading:function(){return null},loader:function(){return n.e(8934).then(n.bind(n,1641))},modules:["./PostStaffPickAwardHeader"],webpack:function(){return[1641]},render:(0,Ce.n)("PostStaffPickAwardHeader")}),Me=n(9202),Ge=Ie()({loading:function(){return null},loader:function(){return n.e(5313).then(n.bind(n,25))},modules:["./PostGiveTipOnExternalPlatform"],webpack:function(){return[25]},render:(0,Ce.n)("PostGiveTipOnExternalPlatform")}),He=function(e){var t,n,r,o,a,c,s=e.post,u=e.meteringInfo,d=i.useRef(null),m=s.isLocked,p=s.collection,E=s.creator,f=s.content.isLockedPreviewOnly,g=p||E,W=(0,L.H)().value,j=!!W,K=(p||{}).googleAnalyticsId,Y=K?[K]:null;(0,h.t)({ids:Y}),(0,G.V)(d,s),(0,H.t)(j,d,s),(0,S.i)(s),(0,U.Q)(),(0,C.q)(s),(0,I.t)({post:s,meteringInfo:u});var X=m?{className:"meteredContent"}:{},Q=(null===(t=s.creator)||void 0===t?void 0:t.name)||(null===(n=s.creator)||void 0===n?void 0:n.username)||"the author",$=null===(r=s.creator)||void 0===r?void 0:r.id,q=!(null==W||!W.id)&&(null==W?void 0:W.id)===$,J=function(e){var t,n=e.postId,r=e.isViewerPostCreator,o=e.isLoggedIn,a=(0,l.a)(Me.J,{variables:{postId:n},ssr:!1,skip:!n||!o||r}),c=a.data,s=a.loading,u=null==c||null===(t=c.post)||void 0===t?void 0:t.viewerEdge,d=!(null==u||!u.awardAvailability.includes(v.w2.STAFF_PICK)),m=!(null==u||!u.awardByType);return{showGiveStaffPickAward:i.useMemo((function(){return!s&&!!u&&(m||d)}),[u,s]),viewerHasAwarded:m,showGiveStaffPickAwardLoading:s}}({postId:s.id,isViewerPostCreator:q,isLoggedIn:j}),Z=J.showGiveStaffPickAward,ee=J.viewerHasAwarded,te=J.showGiveStaffPickAwardLoading,ne=i.useMemo((function(){return!te&&!Z&&!f&&g}),[te,Z,f,g]),re=s.countToShowAwardBadge.totalCount>0,oe=(0,F.VB)({name:"can_send_tips_v0",placeholder:!1})&&!!$,le=!!(0,F.VB)({name:"enable_plan_options_on_paywall",placeholder:!1});return i.createElement(D.x,null,i.createElement(B.k,{post:s},i.createElement(k.h,{post:s}),i.createElement(V.N,null),i.createElement(N.Lv,{post:s,user:E,forceLoad:(null==W?void 0:W.id)===(null==E?void 0:E.id)}),p&&i.createElement(Ue.l,{collection:p,post:s}),i.createElement(D.x,{marginBottom:{xs:"52px",sm:"52px",md:"68px",lg:"68px",xl:"68px"}},i.createElement(z.P,{size:"app"},i.createElement("article",X,i.createElement(D.x,null,i.createElement(b.m,{post:s,meteringInfo:u}),i.createElement(A.T,{post:s},i.createElement(D.x,null,E&&s&&i.createElement(Ve.O,{creator:E,post:s,postBodyRef:d,isLockedPreviewOnly:!!s.content.isLockedPreviewOnly,showInResponseToEntityPreview:!0,showStar:!!s.isLocked,viewerId:null==W?void 0:W.id,playwrightClassName:"pw-post-byline-header"}),re&&i.createElement(ze,{postId:s.id}),i.createElement(_.b,{isAuroraPostPageEnabled:!0,post:s,ref:d,richTextStyle:"INLINE"}))))),i.createElement(y.c,{post:s,meteringInfo:u,excludePadding:!le}))),!f&&i.createElement(T.F,{post:s}),i.createElement(w.T,{isDockingEnabled:!1,undockedBackgroundColor:"BACKGROUND",maxWidthSize:"app"},i.createElement(P.F,{post:s,useSocialPopover:!0,shouldHideClapsText:!0})),i.createElement(x.p,{post:s}),oe&&i.createElement(Ge,{creatorName:Q,creatorId:$,postId:s.id}),ne&&i.createElement(z.P,{size:"app"},i.createElement(Ne,{post:s})),Z&&i.createElement(De,{creator:{imageId:null===(o=s.creator)||void 0===o?void 0:o.imageId,name:(null===(a=s.creator)||void 0===a?void 0:a.name)||(null===(c=s.creator)||void 0===c?void 0:c.username)||"the author"},postId:s.id,viewer:{imageId:null==W?void 0:W.imageId,name:(null==W?void 0:W.name)||(null==W?void 0:W.username)||"you",id:null==W?void 0:W.id},viewerHasAwarded:ee}),i.createElement(R.G8,{customStyleSheet:s.customStyleSheet},i.createElement(Fe,{post:s,target:d}))),!j&&i.createElement(M.y,{xs:!0,sm:!0,md:!0,lg:!0},i.createElement(O.Q,null)))},We=n(35110),je=n(61280);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=function(e){var t,n,r,o,a,c=(0,g.mrd)({params:e})||"",s=(0,je.X)({params:e}),u=s.error?[]:null===(t=s.data)||void 0===t?void 0:t.meterPost.postIds,p=null==u?void 0:u.includes(c),E=1===(null==u?void 0:u.length),f=(0,m.w)(c,p,E),w=(0,l.a)(We.x,{variables:{postId:c,postMeteringOptions:{forceTruncation:!1},awardType:v.w2.STAFF_PICK,isSingleColumnLayout:!1},ssr:!1,fetchPolicy:"cache-only"}),x="Post"===(null===(n=w.data)||void 0===n||null===(r=n.postResult)||void 0===r?void 0:r.__typename)&&w.data.postResult.content.isLockedPreviewOnly,h=!!f&&!x,y=(0,l.a)(We.x,{variables:{postId:c,postMeteringOptions:{forceTruncation:h},awardType:v.w2.STAFF_PICK,isSingleColumnLayout:!1},skip:!c}),S=null===(o=y.data)||void 0===o?void 0:o.postResult,b="Post"===(null==S?void 0:S.__typename)&&!(null==S||null===(a=S.content)||void 0===a||!a.isLockedPreviewOnly),k=(0,d.n)(c,b,E),_=k.content,P=S&&_?Ye(Ye({},S),{},{content:_}):S;return i.useMemo((function(){return{loading:y.loading||s.loading||!!k.loading,postQueryResult:y,postResult:P,postMeterQueryResult:s}}),[y,s,P,k])},Qe=i.memo((function(e){var t=e.postQueryResult,n=e.postResult,r=e.postMeterQueryResult,o=e.params,l=(0,g.mrd)({params:o})||"",d=t.loading,m=t.error,v=r.error,w=r.data,x=null==w?void 0:w.meterPost,h=(0,a.TH)(),y=i.useMemo((function(){return{name:"post_page",postId:l}}),[l]);return l?d?i.createElement(f.h,null):v||m?i.createElement(E.C,{error:v||m,showMetabar:!1}):(0,s.r)(n)?i.createElement(s.I,{postResult:n,showMetabar:!1}):i.createElement(u.E,{post:n,matchedPath:h.pathname,key:l},i.createElement(p.cW,{source:y},i.createElement(He,{post:n,meteringInfo:x}))):i.createElement(c.$,null)}))},46510:(e,t,n)=>{"use strict";n.d(t,{c:()=>E});var r=n(67294),o=n(84739),l=n(55155),i=n(28695),a=n(77355),c=n(26244),s=n(93310),u=n(87691),d=n(65968),m=n(64238),p=function(e){var t=e.creator,n=e.viewerId,p=(0,o.B)(t),v=(0,m.o)(t);return r.createElement(u.F,{tag:"div",scale:"L",color:"DARKER",playwrightClassName:"pw-author"},r.createElement(a.x,{display:"flex",marginBottom:"4px",alignItems:"center"},r.createElement(c.$,{targetDistance:15,mouseLeaveDelay:100,placement:"top",role:"tooltip",popoverRenderFn:function(){return r.createElement(i.K,{user:t})}},r.createElement(s.r,{href:p},r.createElement(a.x,{display:"flex",alignItems:"center"},t.name,v&&r.createElement(a.x,{marginLeft:"2px",marginTop:"1px"},r.createElement(d._,{size:"S"}))))),t.id!==n&&r.createElement(a.x,{display:{xs:"inline-block",sm:"inline-block",md:"inline-block",lg:"none",xl:"none"},paddingLeft:"12px"},r.createElement(l.D,{publisher:t,buttonSize:"COMPACT",susiEntry:"follow_byline"}))))},v=n(17193),E=function(e){var t=e.creator,n=e.playwrightClassName,l=e.entityInfos,i=e.viewerId,c=e.desktopActionsButtons,u=e.mobileActionsButtons,d=e.responseToEntityPreview,m=e.headerRef,E=e.marginBottom,f=void 0===E?{xs:"24px",sm:"24px",md:"24px",lg:"24px",xl:"32px"}:E,g=(0,o.B)(t);return r.createElement(a.x,{ref:m,marginTop:{xs:"32px",sm:"32px",md:"32px",lg:"32px",xl:"56px"},marginBottom:f,tag:"header",playwrightClassName:n},r.createElement(a.x,{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},r.createElement(a.x,{display:"flex"},r.createElement(a.x,{marginRight:"16px"},r.createElement(s.r,{href:g},r.createElement(v.Yt,{scale:"M",user:t}))),r.createElement(a.x,null,r.createElement(p,{creator:t,viewerId:i}),r.createElement(a.x,{display:"flex",alignItems:"center",flexWrap:"wrap"},l))),r.createElement(a.x,{display:"flex",alignItems:"center"},r.createElement(a.x,{display:{xs:"none",sm:"none",md:"inline-flex",lg:"inline-flex",xl:"inline-flex"}},c))),u,d)}},82405:(e,t,n)=>{"use strict";n.d(t,{F:()=>b});var r=n(63038),o=n.n(r),l=n(21919),i=n(67294),a=n(5977),c=n(77520),s=n(20297),u=n(25550),d=n(25267),m=n(67701),p=n(26350),v=n(50563),E=n(93310),f=n(77355),g=n(47230),w=n(18627),x=n(66411),h=n(92661),y=n(43487),S=n(50458),b=function(e){var t,n=e.buttonSize,r=e.buttonStyleFn,S=e.collection,b=e.post,_=e.simpleLink,P=e.susiEntry,T=void 0===P?"follow_card":P,I=e.preventParentClick,C=(0,y.v9)((function(e){return e.config.authDomain})),R=(0,u.r)().viewerId,B=(0,w.Av)(),F=(0,x.pK)(),L=(0,a.TH)(),O=(0,h.$B)(L.pathname),A=null==O||null===(t=O.route)||void 0===t?void 0:t.name,N=(0,m.gY)(S),V=N.viewerEdge,U=N.loading,D=function(e,t){var n=(0,l.D)(s.e),r=o()(n,1)[0];return i.useCallback((function(){return r({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(t),isFollowing:!0}}},update:function(n){n.modify({id:"User:".concat(t),fields:{missionControl:(0,v.im)("followedCollections",!0),followingCollectionConnection:(0,v.Hc)(e.id)}})}})}),[e.id])}(S,R),z=function(e,t){var n=(0,l.D)(s.X),r=o()(n,1)[0];return i.useCallback((function(){return r({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(t),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(t),fields:{missionControl:(0,v.im)("followedCollections",!1)}})}})}),[e.id])}(S,R),M=i.useCallback((function(e){I&&e.preventDefault(),B.event("collection.followed",{collectionId:S.id,followSource:F}),D()}),[S,I,F,B]),G=i.useCallback((function(e){I&&e.preventDefault(),B.event("collection.unfollowed",{collectionId:S.id,followSource:F}),z()}),[I,F,B]),H=!(null==V||!V.isFollowing),W=r?r(!!H):H?"OBVIOUS":"STRONG";return _?i.createElement(E.r,{onClick:H?G:M},i.createElement(f.x,{display:"flex",flexDirection:"row"},H?"Unfollow publication":"Follow publication")):i.createElement(d.I,null,(function(e){return e?i.createElement(g.z,{size:n,onClick:H?G:M,buttonStyle:W,loading:U},H?"Following":"Follow"):i.createElement(p.R,{collection:S,buttonStyle:H?"OBVIOUS":"STRONG",isButton:!0,buttonSize:"REGULAR",operation:"register",actionUrl:k(C,S,b)||"",susiEntry:T,pageSource:(0,c.x)(A,"register")},H?"Following":"Follow")}))},k=function(e,t,n){return t.slug&&(n&&n.id?(0,S.TAb)(e,t.slug,n.id):(0,S.LlO)(e,t.slug))}},29969:(e,t,n)=>{"use strict";n.d(t,{X:()=>_});var r=n(63038),o=n.n(r),l=n(67294),i=n(92519),a=n(83302),c=n(25735),s=n(6443),u=n(67701),d=n(77355),m=n(93310),p=n(20113),v=n(87691),E=n(18627),f=n(66411),g=n(14646),w=n(31889),x=n(34135),h=n(97217),y=n(43487),S=n(50458),b=function(e,t){return{borderTop:"1px solid ".concat(e.baseColor.border.darker),padding:"24px 0",marginBottom:"25px",minHeight:t}},k=function(e){var t=e.viewer,n=e.newsletterV3,r=e.newsletterV3LandingUrl,o=e.useCustomDomainLOFlow,c=e.isVertical,s=e.handleClick;return n?t||o?l.createElement(i.x,{newsletterV3:n,buttonStyle:"SUBTLE",redirectUrl:o?r:void 0,isVertical:c}):l.createElement(a.Q,{newsletterV3:n,isVertical:c,handleClick:s}):null},_=function(e){var t,n,r,i,a,_=e.postId,P=e.publisher,T=e.isVertical,I=void 0!==T&&T,C=l.useRef(null),R=(0,y.v9)((function(e){return e.config.authDomain})),B=(0,E.Av)(),F=(0,g.I)(),L=(0,w.F)(),O=(0,s.H)().value,A=!!(0,c.VB)({name:"enable_newsletter_lo_flow_custom_domains",placeholder:!1}),N=l.useState(!1),V=o()(N,2),U=V[0],D=V[1],z=l.useState("0px"),M=o()(z,2),G=M[0],H=M[1],W=null==(0,y.v9)((function(e){return e.navigation.currentLocation})).match("http[s]?://[^/]*".concat(R)),j=!O&&W&&A,K=P.newsletterV3,Y=null==K?void 0:K.type,X=P.username,Q=void 0===X?"":X,$=(0,S.iBn)(null!==(t=null==K?void 0:K.slug)&&void 0!==t?t:"",R,Y===h.Rr.NEWSLETTER_TYPE_COLLECTION?P:void 0,Y===h.Rr.NEWSLETTER_TYPE_AUTHOR&&Q?Q:void 0),q="Collection"===P.__typename?P:void 0,J=(0,u.gY)(q).viewerEdge;switch(Y){case h.Rr.NEWSLETTER_TYPE_COLLECTION:n="Sign up for ".concat(null==K?void 0:K.name),r="0px",i="You're an editor of ".concat(null==K?void 0:K.name),a=null==J?void 0:J.isEditor;break;case h.Rr.NEWSLETTER_TYPE_AUTHOR:n=(null==K?void 0:K.promoHeadline)||"Get an email whenever ".concat(P.name," publishes."),r="6px",i="You cannot subscribe to yourself",a=P.viewerEdge.isUser}U&&(n="Check your inbox.");var Z=!1,ee=function(){!Z&&te()&&(B.event("newsletterV3.promoViewed",{newsletterV3Id:null==K?void 0:K.id,postId:_}),Z=!0)},te=function(){var e;if(!C.current)return!1;var t=null===(e=C.current)||void 0===e?void 0:e.getBoundingClientRect(),n=t.top+t.height/2;return n>=0&&n<=window.innerHeight};return l.useEffect((function(){return ee(),window&&x.V6.on("scroll",ee),function(){x.V6.off("scroll",ee)}}),[]),l.useEffect((function(){var e;if(C.current){var t=(null===(e=C.current)||void 0===e?void 0:e.getBoundingClientRect()).height;H("".concat(t,"px"))}}),[C]),K&&l.createElement(f.cW,{source:{name:"newsletter_v3_promo",susiEntry:"newsletter_v3_promo"}},l.createElement("div",{ref:C,className:I?void 0:F(b(L,G))},l.createElement(d.x,{wordBreak:"break-word",paddingBottom:r},l.createElement(p.X6,{scale:"S"},n)),Y===h.Rr.NEWSLETTER_TYPE_COLLECTION&&!U&&l.createElement(l.Fragment,null,l.createElement(d.x,{paddingTop:"4px"},l.createElement(v.F,{tag:"h3",scale:"S",color:"DARKER"},"By ".concat(P.name))),l.createElement(d.x,{paddingTop:"8px",paddingBottom:"10px"},l.createElement(v.F,{scale:"S",color:"DARKER"},null==K?void 0:K.description," ",l.createElement(m.r,{inline:!0,linkStyle:"OBVIOUS",href:$},"Take a look.")))),Y===h.Rr.NEWSLETTER_TYPE_AUTHOR&&(null==K?void 0:K.promoBody)&&!U&&l.createElement(l.Fragment,null,l.createElement(d.x,{wordBreak:"break-word",paddingTop:"8px",paddingBottom:"8px"},l.createElement(v.F,{scale:"S",color:"DARKER"},null==K?void 0:K.promoBody))),a?l.createElement(d.x,{paddingTop:"10px"},l.createElement(v.F,{scale:"S",color:"DARKER"},i)):l.createElement(d.x,{display:"flex",flexWrap:"wrap"},l.createElement(k,{viewer:O,useCustomDomainLOFlow:j,newsletterV3:K,newsletterV3LandingUrl:$,isVertical:I,handleClick:function(){return D(!0)}}))))}},1951:(e,t,n)=>{"use strict";n.d(t,{g:()=>i,t:()=>a});var r=n(67294),o=n(9354),l=n(75880),i=function(e){var t=e.creator,n=a(t);return t?n:{value:!1}},a=function(e){var t,n,i,a=(0,l.Pd)(e),c=a.viewerEdge,s=a.loading,u=r.useRef(null),d=(0,o.T)({newsletterSlug:null==e||null===(t=e.newsletterV3)||void 0===t?void 0:t.slug,username:null==e?void 0:e.username}),m=d.viewerEdge,p=d.loading;return(i=null!==u.current?{value:u.current}:s||p?{loading:!0}:null!=e&&null!==(n=e.newsletterV3)&&void 0!==n&&n.showPromo?{value:!(!(null!=c&&c.isUser||null==m)&&m.isSubscribed)}:{value:!1}).loading||void 0===i.value||null!==u.current||(u.current=i.value),i}},40922:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var r=n(67701),o=n(9354),l=function(e){var t=(e||{}).newsletterV3,n=(0,r.gY)(e),l=n.viewerEdge,i=n.loading,a=(0,o.T)({newsletterSlug:null==t?void 0:t.slug,collectionSlug:null==e?void 0:e.slug}),c=a.viewerEdge,s=a.loading;return!(null==t||!t.showPromo||i||s||!(null!=l&&l.isEditor||null==c)&&c.isSubscribed)}},18704:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var r=n(67294),o=n(87691),l=n(21372);function i(e){var t=e.readingTime,n=e.scale,i=void 0===n?"S":n,a=e.includeRead,c=void 0===a||a,s=e.color,u=e.tag,d=void 0===u?"span":u,m=c?" read":"";return r.createElement(o.F,{scale:i,color:s,tag:d,playwrightClassName:"pw-reading-time"},"".concat((0,l.Vd)(t||0)," min").concat(m))}},87723:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var r=n(67294),o=n(58327),l=n(52278),i=function(e){var t=e.meteringInfo,n=e.post;return r.createElement(l.M,{columns:8,gutter:!1,padding:{xs:"0 8px",sm:"0 8px",md:"0 16px",lg:"0 16px",xl:"0 16px"},tag:"div"},!!n.isLocked&&!!t&&r.createElement(o.r,{meteringInfo:t,post:n}))}},55155:(e,t,n)=>{"use strict";n.d(t,{D:()=>d,f:()=>m});var r=n(28655),o=n.n(r),l=n(92471),i=n(67294),a=n(82405),c=n(19308),s=n(32317);function u(){var e=o()(["\n  fragment PublisherFollowButton_publisher on Publisher {\n    __typename\n    ... on Collection {\n      ...CollectionFollowButton_collection\n    }\n    ... on User {\n      ...UserFollowButton_user\n    }\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}var d=function(e){var t=e.publisher,n=e.buttonSize,r=e.isLinkStyle,o=void 0!==r&&r,l=e.susiEntry,c=e.width;return"Collection"===t.__typename?i.createElement(a.F,{buttonSize:n,collection:t,susiEntry:l}):i.createElement(s.Bv,{buttonSize:n,user:t,isLinkStyle:o,susiEntry:l,width:c})},m=(0,l.Ps)(u(),c.I,s.sj)},54878:(e,t,n)=>{"use strict";n.d(t,{v$:()=>m,G8:()=>p,Ps:()=>v,Kc:()=>E});var r=n(28655),o=n.n(r),l=n(92471),i=n(67294),a=n(31889),c=n(98096),s=n(3207);function u(){var e=o()(["\n  fragment CustomThemeProvider_customStyleSheet on CustomStyleSheet {\n    id\n    ...customDefaultBackgroundTheme_customStyleSheet\n    ...customStyleSheetFontTheme_customStyleSheet\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}function d(){var e=o()(["\n  fragment CustomThemeProvider_publisher on Publisher {\n    id\n    __typename\n    ... on Collection {\n      colorPalette {\n        ...customDefaultBackgroundTheme_colorPalette\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var m=function(e,t){var n=(0,a.F)(),r="Collection"===(null==t?void 0:t.__typename)?null==t?void 0:t.colorPalette:null;return(0,s.ZI)(e,(0,s.zI)(e,n,r))},p=function(e){var t=e.customStyleSheet,n=e.publisher,r=e.children,o=m(t,n);return i.createElement(c.f,{theme:o},r)},v=(0,l.Ps)(d(),s.L9),E=(0,l.Ps)(u(),s.Ui,s.VE)}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/PostPage.MainContent.b13f989d.chunk.js.map